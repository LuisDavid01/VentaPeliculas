@model List<ProductoDulceriaModel>

<form method="post" asp-controller="Compra" asp-action="RealizarCompraDulceria">
    <div class="container">
        @for (int i = 0; i < Model.Count; i++)
        {
            <div class="producto-item mb-4">
                <h3>@Model[i].nombre</h3>
                <p>@Model[i].descripcion</p>
                <p>Precio: $@Model[i].precio</p>
                <p>Stock: @Model[i].cantidad</p>

                <input type="hidden" name="ProductosSeleccionados[@i]._id" value="@Model[i]._id" />

                <label>Cantidad a comprar:</label>
                <input type="number" name="ProductosSeleccionados[@i].cantidad" value="0" min="0" max="@Model[i].cantidad" class="form-control" />
            </div>
        }
    </div>

    <button type="submit" class="btn btn-primary">Enviar pedido</button>
</form>